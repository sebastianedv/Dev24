{"filter":false,"title":"deploy_lambda.yml","tooltip":"/.github/workflows/deploy_lambda.yml","undoManager":{"mark":84,"position":84,"stack":[[{"start":{"row":0,"column":0},"end":{"row":58,"column":0},"action":"insert","lines":["name: Deploy SAM Application","","on:","  push:","    branches:","      - main  # Trigger deployment only on pushes to the main branch","","jobs:","  deploy:","    name: Deploy SAM Application to AWS","    runs-on: ubuntu-latest","","    steps:","      # Checkout the repository","      - name: Checkout Code","        uses: actions/checkout@v3","","      # Set up Python environment","      - name: Set up Python","        uses: actions/setup-python@v4","        with:","          python-version: 3.8  # Match your Lambda runtime version","","      # Install AWS CLI and SAM CLI","      - name: Install AWS CLI and SAM CLI","        run: |","          sudo apt-get update","          sudo apt-get install -y awscli unzip","          curl -sSL https://github.com/aws/aws-sam-cli/releases/latest/download/aws-sam-cli-linux-x86_64.zip -o sam-cli.zip","          unzip sam-cli.zip -d sam-installation","          sudo ./sam-installation/install","","      # Configure AWS credentials","      - name: Configure AWS Credentials","        uses: aws-actions/configure-aws-credentials@v3","        with:","          aws-access-key-id: ${{ secrets.AWS_ACCESS_KEY_ID }}","          aws-secret-access-key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}","          aws-region: ${{ secrets.AWS_REGION }}","","      # Install dependencies","      - name: Install Dependencies","        run: |","          cd sam_lambda/Couch-explorer/image_generator  # Change to the directory containing requirements.txt","          pip install -r requirements.txt -t .","","      # Build SAM application","      - name: Build SAM Application","        run: sam build --template-file sam_lambda/Couch-explorer/template.yaml","","      # Deploy SAM application","      - name: Deploy SAM Application","        run: |","          sam deploy \\","            --template-file .aws-sam/build/template.yaml \\","            --stack-name my-sam-stack \\","            --capabilities CAPABILITY_IAM \\","            --region ${{ secrets.AWS_REGION }}",""],"id":19}],[{"start":{"row":5,"column":13},"end":{"row":5,"column":68},"action":"remove","lines":[" # Trigger deployment only on pushes to the main branch"],"id":20},{"start":{"row":5,"column":12},"end":{"row":5,"column":13},"action":"remove","lines":[" "]}],[{"start":{"row":13,"column":0},"end":{"row":13,"column":31},"action":"remove","lines":["      # Checkout the repository"],"id":21},{"start":{"row":12,"column":10},"end":{"row":13,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":16,"column":0},"end":{"row":16,"column":33},"action":"remove","lines":["      # Set up Python environment"],"id":22},{"start":{"row":15,"column":0},"end":{"row":16,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":19,"column":29},"end":{"row":19,"column":66},"action":"remove","lines":["  # Match your Lambda runtime version"],"id":23}],[{"start":{"row":21,"column":0},"end":{"row":21,"column":35},"action":"remove","lines":["      # Install AWS CLI and SAM CLI"],"id":24},{"start":{"row":20,"column":0},"end":{"row":21,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":29,"column":0},"end":{"row":29,"column":33},"action":"remove","lines":["      # Configure AWS credentials"],"id":25},{"start":{"row":28,"column":0},"end":{"row":29,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":36,"column":0},"end":{"row":36,"column":28},"action":"remove","lines":["      # Install dependencies"],"id":26},{"start":{"row":35,"column":0},"end":{"row":36,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":41,"column":0},"end":{"row":41,"column":29},"action":"remove","lines":["      # Build SAM application"],"id":27},{"start":{"row":40,"column":0},"end":{"row":41,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":44,"column":0},"end":{"row":44,"column":30},"action":"remove","lines":["      # Deploy SAM application"],"id":28},{"start":{"row":43,"column":0},"end":{"row":44,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":33,"column":56},"end":{"row":33,"column":66},"action":"remove","lines":["ACCESS_KEY"],"id":29},{"start":{"row":33,"column":56},"end":{"row":33,"column":57},"action":"insert","lines":["K"]},{"start":{"row":33,"column":57},"end":{"row":33,"column":58},"action":"insert","lines":["E"]},{"start":{"row":33,"column":58},"end":{"row":33,"column":59},"action":"insert","lines":["Y"]},{"start":{"row":33,"column":59},"end":{"row":33,"column":60},"action":"insert","lines":["_"]},{"start":{"row":33,"column":60},"end":{"row":33,"column":61},"action":"insert","lines":["I"]},{"start":{"row":33,"column":61},"end":{"row":33,"column":62},"action":"insert","lines":["D"]}],[{"start":{"row":38,"column":55},"end":{"row":38,"column":109},"action":"remove","lines":[" # Change to the directory containing requirements.txt"],"id":30},{"start":{"row":38,"column":54},"end":{"row":38,"column":55},"action":"remove","lines":[" "]}],[{"start":{"row":0,"column":0},"end":{"row":51,"column":0},"action":"remove","lines":["name: Deploy SAM Application","","on:","  push:","    branches:","      - main","","jobs:","  deploy:","    name: Deploy SAM Application to AWS","    runs-on: ubuntu-latest","","    steps:","      - name: Checkout Code","        uses: actions/checkout@v3","","      - name: Set up Python","        uses: actions/setup-python@v4","        with:","          python-version: 3.8","","      - name: Install AWS CLI and SAM CLI","        run: |","          sudo apt-get update","          sudo apt-get install -y awscli unzip","          curl -sSL https://github.com/aws/aws-sam-cli/releases/latest/download/aws-sam-cli-linux-x86_64.zip -o sam-cli.zip","          unzip sam-cli.zip -d sam-installation","          sudo ./sam-installation/install","","      - name: Configure AWS Credentials","        uses: aws-actions/configure-aws-credentials@v3","        with:","          aws-access-key-id: ${{ secrets.AWS_ACCESS_KEY_ID }}","          aws-secret-access-key: ${{ secrets.AWS_SECRET_KEY_ID }}","          aws-region: ${{ secrets.AWS_REGION }}","","      - name: Install Dependencies","        run: |","          cd sam_lambda/Couch-explorer/image_generator","          pip install -r requirements.txt -t .","","      - name: Build SAM Application","        run: sam build --template-file sam_lambda/Couch-explorer/template.yaml","","      - name: Deploy SAM Application","        run: |","          sam deploy \\","            --template-file .aws-sam/build/template.yaml \\","            --stack-name my-sam-stack \\","            --capabilities CAPABILITY_IAM \\","            --region ${{ secrets.AWS_REGION }}",""],"id":31},{"start":{"row":0,"column":0},"end":{"row":46,"column":0},"action":"insert","lines":["name: Deploy SAM Application","","on:","  push:","    branches:","      - main  # Trigger on pushes to the main branch","","jobs:","  deploy:","    name: Deploy SAM Application","    runs-on: ubuntu-latest","","    steps:","      - name: Checkout Code","        uses: actions/checkout@v3","","      - name: Set up Python","        uses: actions/setup-python@v4","        with:","          python-version: 3.8  # Match your Lambda runtime version","","      - name: Install AWS CLI and SAM CLI","        run: |","          sudo apt-get update","          sudo apt-get install -y awscli unzip","          curl -sSL https://github.com/aws/aws-sam-cli/releases/latest/download/aws-sam-cli-linux-x86_64.zip -o sam-cli.zip","          unzip sam-cli.zip -d sam-installation","          sudo ./sam-installation/install","","      - name: Configure AWS Credentials","        uses: aws-actions/configure-aws-credentials@v3","        with:","          aws-access-key-id: ${{ secrets.AWS_ACCESS_KEY_ID }}","          aws-secret-access-key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}","          aws-region: ${{ secrets.AWS_REGION }}","","      - name: Build SAM Application","        run: sam build","","      - name: Deploy SAM Application","        run: |","          sam deploy \\","            --template-file .aws-sam/build/template.yaml \\","            --stack-name my-sam-stack \\","            --capabilities CAPABILITY_IAM \\","            --region ${{ secrets.AWS_REGION }}",""]}],[{"start":{"row":5,"column":14},"end":{"row":5,"column":52},"action":"remove","lines":["# Trigger on pushes to the main branch"],"id":32},{"start":{"row":5,"column":13},"end":{"row":5,"column":14},"action":"remove","lines":[" "]},{"start":{"row":5,"column":12},"end":{"row":5,"column":13},"action":"remove","lines":[" "]}],[{"start":{"row":19,"column":29},"end":{"row":19,"column":66},"action":"remove","lines":["  # Match your Lambda runtime version"],"id":33}],[{"start":{"row":33,"column":55},"end":{"row":33,"column":66},"action":"remove","lines":["_ACCESS_KEY"],"id":34},{"start":{"row":33,"column":55},"end":{"row":33,"column":56},"action":"insert","lines":["_"]},{"start":{"row":33,"column":56},"end":{"row":33,"column":57},"action":"insert","lines":["K"]},{"start":{"row":33,"column":57},"end":{"row":33,"column":58},"action":"insert","lines":["E"]},{"start":{"row":33,"column":58},"end":{"row":33,"column":59},"action":"insert","lines":["Y"]},{"start":{"row":33,"column":59},"end":{"row":33,"column":60},"action":"insert","lines":["_"]},{"start":{"row":33,"column":60},"end":{"row":33,"column":61},"action":"insert","lines":["I"]},{"start":{"row":33,"column":61},"end":{"row":33,"column":62},"action":"insert","lines":["D"]}],[{"start":{"row":0,"column":0},"end":{"row":46,"column":0},"action":"remove","lines":["name: Deploy SAM Application","","on:","  push:","    branches:","      - main","","jobs:","  deploy:","    name: Deploy SAM Application","    runs-on: ubuntu-latest","","    steps:","      - name: Checkout Code","        uses: actions/checkout@v3","","      - name: Set up Python","        uses: actions/setup-python@v4","        with:","          python-version: 3.8","","      - name: Install AWS CLI and SAM CLI","        run: |","          sudo apt-get update","          sudo apt-get install -y awscli unzip","          curl -sSL https://github.com/aws/aws-sam-cli/releases/latest/download/aws-sam-cli-linux-x86_64.zip -o sam-cli.zip","          unzip sam-cli.zip -d sam-installation","          sudo ./sam-installation/install","","      - name: Configure AWS Credentials","        uses: aws-actions/configure-aws-credentials@v3","        with:","          aws-access-key-id: ${{ secrets.AWS_ACCESS_KEY_ID }}","          aws-secret-access-key: ${{ secrets.AWS_SECRET_KEY_ID }}","          aws-region: ${{ secrets.AWS_REGION }}","","      - name: Build SAM Application","        run: sam build","","      - name: Deploy SAM Application","        run: |","          sam deploy \\","            --template-file .aws-sam/build/template.yaml \\","            --stack-name my-sam-stack \\","            --capabilities CAPABILITY_IAM \\","            --region ${{ secrets.AWS_REGION }}",""],"id":35},{"start":{"row":0,"column":0},"end":{"row":52,"column":0},"action":"insert","lines":["name: Deploy SAM Application","","on:","  push:","    branches:","      - main","","jobs:","  deploy:","    name: Deploy SAM Application","    runs-on: ubuntu-latest","","    steps:","      - name: Checkout Code","        uses: actions/checkout@v3","        with:","          ref: main","          fetch-depth: 0  # Fetch full history to avoid shallow clone issues","","      - name: Verify Git Remote","        run: git remote -v","","      - name: Set up Python","        uses: actions/setup-python@v4","        with:","          python-version: 3.8","","      - name: Install AWS CLI and SAM CLI","        run: |","          sudo apt-get update","          sudo apt-get install -y awscli unzip","          curl -sSL https://github.com/aws/aws-sam-cli/releases/latest/download/aws-sam-cli-linux-x86_64.zip -o sam-cli.zip","          unzip sam-cli.zip -d sam-installation","          sudo ./sam-installation/install","","      - name: Configure AWS Credentials","        uses: aws-actions/configure-aws-credentials@v3","        with:","          aws-access-key-id: ${{ secrets.AWS_ACCESS_KEY_ID }}","          aws-secret-access-key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}","          aws-region: ${{ secrets.AWS_REGION }}","","      - name: Build SAM Application","        run: sam build","","      - name: Deploy SAM Application","        run: |","          sam deploy \\","            --template-file .aws-sam/build/template.yaml \\","            --stack-name my-sam-stack \\","            --capabilities CAPABILITY_IAM \\","            --region ${{ secrets.AWS_REGION }}",""]}],[{"start":{"row":17,"column":26},"end":{"row":17,"column":76},"action":"remove","lines":["# Fetch full history to avoid shallow clone issues"],"id":36},{"start":{"row":17,"column":25},"end":{"row":17,"column":26},"action":"remove","lines":[" "]},{"start":{"row":17,"column":24},"end":{"row":17,"column":25},"action":"remove","lines":[" "]}],[{"start":{"row":39,"column":56},"end":{"row":39,"column":66},"action":"remove","lines":["ACCESS_KEY"],"id":37},{"start":{"row":39,"column":56},"end":{"row":39,"column":57},"action":"insert","lines":["K"]},{"start":{"row":39,"column":57},"end":{"row":39,"column":58},"action":"insert","lines":["E"]},{"start":{"row":39,"column":58},"end":{"row":39,"column":59},"action":"insert","lines":["Y"]},{"start":{"row":39,"column":59},"end":{"row":39,"column":60},"action":"insert","lines":["_"]},{"start":{"row":39,"column":60},"end":{"row":39,"column":61},"action":"insert","lines":["I"]},{"start":{"row":39,"column":61},"end":{"row":39,"column":62},"action":"insert","lines":["D"]}],[{"start":{"row":15,"column":13},"end":{"row":16,"column":0},"action":"insert","lines":["",""],"id":39},{"start":{"row":16,"column":0},"end":{"row":16,"column":8},"action":"insert","lines":["        "]},{"start":{"row":16,"column":8},"end":{"row":16,"column":9},"action":"insert","lines":["t"]},{"start":{"row":16,"column":9},"end":{"row":16,"column":10},"action":"insert","lines":["o"]},{"start":{"row":16,"column":10},"end":{"row":16,"column":11},"action":"insert","lines":["k"]},{"start":{"row":16,"column":11},"end":{"row":16,"column":12},"action":"insert","lines":["e"]},{"start":{"row":16,"column":12},"end":{"row":16,"column":13},"action":"insert","lines":["n"]},{"start":{"row":16,"column":13},"end":{"row":16,"column":14},"action":"insert","lines":[":"]}],[{"start":{"row":16,"column":14},"end":{"row":16,"column":15},"action":"insert","lines":[" "],"id":40},{"start":{"row":16,"column":15},"end":{"row":16,"column":16},"action":"insert","lines":["{"]}],[{"start":{"row":16,"column":15},"end":{"row":16,"column":16},"action":"remove","lines":["{"],"id":41}],[{"start":{"row":16,"column":15},"end":{"row":16,"column":16},"action":"insert","lines":["$"],"id":42}],[{"start":{"row":16,"column":16},"end":{"row":16,"column":17},"action":"insert","lines":["{"],"id":43},{"start":{"row":16,"column":17},"end":{"row":16,"column":18},"action":"insert","lines":["{"]}],[{"start":{"row":16,"column":18},"end":{"row":16,"column":19},"action":"insert","lines":[" "],"id":44},{"start":{"row":16,"column":19},"end":{"row":16,"column":20},"action":"insert","lines":["s"]},{"start":{"row":16,"column":20},"end":{"row":16,"column":21},"action":"insert","lines":["e"]},{"start":{"row":16,"column":21},"end":{"row":16,"column":22},"action":"insert","lines":["c"]},{"start":{"row":16,"column":22},"end":{"row":16,"column":23},"action":"insert","lines":["r"]},{"start":{"row":16,"column":23},"end":{"row":16,"column":24},"action":"insert","lines":["e"]},{"start":{"row":16,"column":24},"end":{"row":16,"column":25},"action":"insert","lines":["t"]},{"start":{"row":16,"column":25},"end":{"row":16,"column":26},"action":"insert","lines":["s"]},{"start":{"row":16,"column":26},"end":{"row":16,"column":27},"action":"insert","lines":["."]}],[{"start":{"row":16,"column":27},"end":{"row":16,"column":28},"action":"insert","lines":["M"],"id":45},{"start":{"row":16,"column":28},"end":{"row":16,"column":29},"action":"insert","lines":["Y"]},{"start":{"row":16,"column":29},"end":{"row":16,"column":30},"action":"insert","lines":["_"]},{"start":{"row":16,"column":30},"end":{"row":16,"column":31},"action":"insert","lines":["P"]},{"start":{"row":16,"column":31},"end":{"row":16,"column":32},"action":"insert","lines":["Ø"]},{"start":{"row":16,"column":32},"end":{"row":16,"column":33},"action":"insert","lines":["E"]},{"start":{"row":16,"column":33},"end":{"row":16,"column":34},"action":"insert","lines":["R"]}],[{"start":{"row":16,"column":33},"end":{"row":16,"column":34},"action":"remove","lines":["R"],"id":46},{"start":{"row":16,"column":32},"end":{"row":16,"column":33},"action":"remove","lines":["E"]},{"start":{"row":16,"column":31},"end":{"row":16,"column":32},"action":"remove","lines":["Ø"]}],[{"start":{"row":16,"column":31},"end":{"row":16,"column":32},"action":"insert","lines":["E"],"id":47},{"start":{"row":16,"column":32},"end":{"row":16,"column":33},"action":"insert","lines":["R"]},{"start":{"row":16,"column":33},"end":{"row":16,"column":34},"action":"insert","lines":["S"]},{"start":{"row":16,"column":34},"end":{"row":16,"column":35},"action":"insert","lines":["O"]},{"start":{"row":16,"column":35},"end":{"row":16,"column":36},"action":"insert","lines":["N"]},{"start":{"row":16,"column":36},"end":{"row":16,"column":37},"action":"insert","lines":["A"]},{"start":{"row":16,"column":37},"end":{"row":16,"column":38},"action":"insert","lines":["L"]},{"start":{"row":16,"column":38},"end":{"row":16,"column":39},"action":"insert","lines":["_"]},{"start":{"row":16,"column":39},"end":{"row":16,"column":40},"action":"insert","lines":["A"]},{"start":{"row":16,"column":40},"end":{"row":16,"column":41},"action":"insert","lines":["C"]},{"start":{"row":16,"column":41},"end":{"row":16,"column":42},"action":"insert","lines":["C"]}],[{"start":{"row":16,"column":42},"end":{"row":16,"column":43},"action":"insert","lines":["E"],"id":48},{"start":{"row":16,"column":43},"end":{"row":16,"column":44},"action":"insert","lines":["S"]},{"start":{"row":16,"column":44},"end":{"row":16,"column":45},"action":"insert","lines":["S"]},{"start":{"row":16,"column":45},"end":{"row":16,"column":46},"action":"insert","lines":["_"]},{"start":{"row":16,"column":46},"end":{"row":16,"column":47},"action":"insert","lines":["T"]},{"start":{"row":16,"column":47},"end":{"row":16,"column":48},"action":"insert","lines":["O"]},{"start":{"row":16,"column":48},"end":{"row":16,"column":49},"action":"insert","lines":["K"]},{"start":{"row":16,"column":49},"end":{"row":16,"column":50},"action":"insert","lines":["E"]},{"start":{"row":16,"column":50},"end":{"row":16,"column":51},"action":"insert","lines":["N"]}],[{"start":{"row":16,"column":51},"end":{"row":16,"column":52},"action":"insert","lines":[" "],"id":49},{"start":{"row":16,"column":52},"end":{"row":16,"column":53},"action":"insert","lines":["]"]},{"start":{"row":16,"column":53},"end":{"row":16,"column":54},"action":"insert","lines":["]"]}],[{"start":{"row":16,"column":53},"end":{"row":16,"column":54},"action":"remove","lines":["]"],"id":50},{"start":{"row":16,"column":52},"end":{"row":16,"column":53},"action":"remove","lines":["]"]}],[{"start":{"row":16,"column":52},"end":{"row":16,"column":53},"action":"insert","lines":["}"],"id":51},{"start":{"row":16,"column":53},"end":{"row":16,"column":54},"action":"insert","lines":["}"]}],[{"start":{"row":16,"column":8},"end":{"row":16,"column":10},"action":"insert","lines":["  "],"id":52}],[{"start":{"row":0,"column":0},"end":{"row":53,"column":0},"action":"remove","lines":["name: Deploy SAM Application","","on:","  push:","    branches:","      - main","","jobs:","  deploy:","    name: Deploy SAM Application","    runs-on: ubuntu-latest","","    steps:","      - name: Checkout Code","        uses: actions/checkout@v3","        with:","          token: ${{ secrets.MY_PERSONAL_ACCESS_TOKEN }}","          ref: main","          fetch-depth: 0","","      - name: Verify Git Remote","        run: git remote -v","","      - name: Set up Python","        uses: actions/setup-python@v4","        with:","          python-version: 3.8","","      - name: Install AWS CLI and SAM CLI","        run: |","          sudo apt-get update","          sudo apt-get install -y awscli unzip","          curl -sSL https://github.com/aws/aws-sam-cli/releases/latest/download/aws-sam-cli-linux-x86_64.zip -o sam-cli.zip","          unzip sam-cli.zip -d sam-installation","          sudo ./sam-installation/install","","      - name: Configure AWS Credentials","        uses: aws-actions/configure-aws-credentials@v3","        with:","          aws-access-key-id: ${{ secrets.AWS_ACCESS_KEY_ID }}","          aws-secret-access-key: ${{ secrets.AWS_SECRET_KEY_ID }}","          aws-region: ${{ secrets.AWS_REGION }}","","      - name: Build SAM Application","        run: sam build","","      - name: Deploy SAM Application","        run: |","          sam deploy \\","            --template-file .aws-sam/build/template.yaml \\","            --stack-name my-sam-stack \\","            --capabilities CAPABILITY_IAM \\","            --region ${{ secrets.AWS_REGION }}",""],"id":53},{"start":{"row":0,"column":0},"end":{"row":54,"column":0},"action":"insert","lines":["name: Deploy SAM Application","","on:","  push:","    branches:","      - main  # Trigger the workflow on pushes to the main branch","","jobs:","  deploy:","    name: Deploy SAM Application","    runs-on: ubuntu-latest","","    steps:","      # Checkout the code from the repository","      - name: Checkout Code","        uses: actions/checkout@v3","        with:","          token: ${{ secrets.MY_PERSONAL_ACCESS_TOKEN }}  # Use PAT stored in GitHub Secrets","","      # Set up Python environment","      - name: Set up Python","        uses: actions/setup-python@v4","        with:","          python-version: 3.8  # Match your Lambda runtime version","","      # Install AWS CLI and SAM CLI","      - name: Install AWS CLI and SAM CLI","        run: |","          sudo apt-get update","          sudo apt-get install -y awscli unzip","          curl -sSL https://github.com/aws/aws-sam-cli/releases/latest/download/aws-sam-cli-linux-x86_64.zip -o sam-cli.zip","          unzip sam-cli.zip -d sam-installation","          sudo ./sam-installation/install","","      # Configure AWS credentials for deployment","      - name: Configure AWS Credentials","        uses: aws-actions/configure-aws-credentials@v3","        with:","          aws-access-key-id: ${{ secrets.AWS_ACCESS_KEY_ID }}","          aws-secret-access-key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}","          aws-region: ${{ secrets.AWS_REGION }}","","      # Build the SAM application","      - name: Build SAM Application","        run: sam build","","      # Deploy the SAM application","      - name: Deploy SAM Application","        run: |","          sam deploy \\","            --template-file .aws-sam/build/template.yaml \\","            --stack-name my-sam-stack \\","            --capabilities CAPABILITY_IAM \\","            --region ${{ secrets.AWS_REGION }}",""]}],[{"start":{"row":5,"column":12},"end":{"row":5,"column":65},"action":"remove","lines":["  # Trigger the workflow on pushes to the main branch"],"id":54}],[{"start":{"row":13,"column":0},"end":{"row":13,"column":45},"action":"remove","lines":["      # Checkout the code from the repository"],"id":55}],[{"start":{"row":17,"column":56},"end":{"row":17,"column":92},"action":"remove","lines":["  # Use PAT stored in GitHub Secrets"],"id":56}],[{"start":{"row":19,"column":0},"end":{"row":19,"column":33},"action":"remove","lines":["      # Set up Python environment"],"id":57},{"start":{"row":18,"column":0},"end":{"row":19,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":22,"column":29},"end":{"row":22,"column":66},"action":"remove","lines":["  # Match your Lambda runtime version"],"id":58}],[{"start":{"row":24,"column":0},"end":{"row":24,"column":35},"action":"remove","lines":["      # Install AWS CLI and SAM CLI"],"id":59},{"start":{"row":23,"column":0},"end":{"row":24,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":32,"column":0},"end":{"row":32,"column":48},"action":"remove","lines":["      # Configure AWS credentials for deployment"],"id":60},{"start":{"row":31,"column":0},"end":{"row":32,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":39,"column":0},"end":{"row":39,"column":33},"action":"remove","lines":["      # Build the SAM application"],"id":61},{"start":{"row":38,"column":0},"end":{"row":39,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":42,"column":0},"end":{"row":42,"column":34},"action":"remove","lines":["      # Deploy the SAM application"],"id":63},{"start":{"row":41,"column":0},"end":{"row":42,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":36,"column":56},"end":{"row":36,"column":66},"action":"remove","lines":["ACCESS_KEY"],"id":64},{"start":{"row":36,"column":56},"end":{"row":36,"column":57},"action":"insert","lines":["K"]},{"start":{"row":36,"column":57},"end":{"row":36,"column":58},"action":"insert","lines":["E"]},{"start":{"row":36,"column":58},"end":{"row":36,"column":59},"action":"insert","lines":["Y"]},{"start":{"row":36,"column":59},"end":{"row":36,"column":60},"action":"insert","lines":["_"]},{"start":{"row":36,"column":60},"end":{"row":36,"column":61},"action":"insert","lines":["I"]},{"start":{"row":36,"column":61},"end":{"row":36,"column":62},"action":"insert","lines":["D"]}],[{"start":{"row":12,"column":10},"end":{"row":13,"column":0},"action":"remove","lines":["",""],"id":65}],[{"start":{"row":0,"column":0},"end":{"row":48,"column":0},"action":"remove","lines":["name: Deploy SAM Application","","on:","  push:","    branches:","      - main","","jobs:","  deploy:","    name: Deploy SAM Application","    runs-on: ubuntu-latest","","    steps:","      - name: Checkout Code","        uses: actions/checkout@v3","        with:","          token: ${{ secrets.MY_PERSONAL_ACCESS_TOKEN }}","","      - name: Set up Python","        uses: actions/setup-python@v4","        with:","          python-version: 3.8","","      - name: Install AWS CLI and SAM CLI","        run: |","          sudo apt-get update","          sudo apt-get install -y awscli unzip","          curl -sSL https://github.com/aws/aws-sam-cli/releases/latest/download/aws-sam-cli-linux-x86_64.zip -o sam-cli.zip","          unzip sam-cli.zip -d sam-installation","          sudo ./sam-installation/install","","      - name: Configure AWS Credentials","        uses: aws-actions/configure-aws-credentials@v3","        with:","          aws-access-key-id: ${{ secrets.AWS_ACCESS_KEY_ID }}","          aws-secret-access-key: ${{ secrets.AWS_SECRET_KEY_ID }}","          aws-region: ${{ secrets.AWS_REGION }}","","      - name: Build SAM Application","        run: sam build","","      - name: Deploy SAM Application","        run: |","          sam deploy \\","            --template-file .aws-sam/build/template.yaml \\","            --stack-name my-sam-stack \\","            --capabilities CAPABILITY_IAM \\","            --region ${{ secrets.AWS_REGION }}",""],"id":66},{"start":{"row":0,"column":0},"end":{"row":60,"column":0},"action":"insert","lines":["name: Deploy SAM Application","","on:","  push:","    branches:","      - main  # Trigger workflow on pushes to main","","jobs:","  deploy:","    name: Deploy SAM Application","    runs-on: ubuntu-latest","","    steps:","      # Checkout the repository code","      - name: Checkout Code","        uses: actions/checkout@v3","        with:","          token: ${{ secrets.MY_PERSONAL_ACCESS_TOKEN }}  # Use PAT for private repos","          fetch-depth: 0  # Fetch full history","          ref: main  # Ensure main branch is checked out","","      # Debug Git remote (optional)","      - name: Debug Git Remote","        run: git remote -v","","      # Set up Python","      - name: Set up Python","        uses: actions/setup-python@v4","        with:","          python-version: 3.8  # Match your Lambda runtime version","","      # Install AWS CLI and SAM CLI","      - name: Install AWS CLI and SAM CLI","        run: |","          sudo apt-get update","          sudo apt-get install -y awscli unzip","          curl -sSL https://github.com/aws/aws-sam-cli/releases/latest/download/aws-sam-cli-linux-x86_64.zip -o sam-cli.zip","          unzip sam-cli.zip -d sam-installation","          sudo ./sam-installation/install","","      # Configure AWS credentials","      - name: Configure AWS Credentials","        uses: aws-actions/configure-aws-credentials@v3","        with:","          aws-access-key-id: ${{ secrets.AWS_ACCESS_KEY_ID }}","          aws-secret-access-key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}","          aws-region: ${{ secrets.AWS_REGION }}","","      # Build SAM Application","      - name: Build SAM Application","        run: sam build","","      # Deploy SAM Application","      - name: Deploy SAM Application","        run: |","          sam deploy \\","            --template-file .aws-sam/build/template.yaml \\","            --stack-name my-sam-stack \\","            --capabilities CAPABILITY_IAM \\","            --region ${{ secrets.AWS_REGION }}",""]}],[{"start":{"row":5,"column":12},"end":{"row":5,"column":50},"action":"remove","lines":["  # Trigger workflow on pushes to main"],"id":67}],[{"start":{"row":13,"column":0},"end":{"row":13,"column":36},"action":"remove","lines":["      # Checkout the repository code"],"id":68},{"start":{"row":12,"column":10},"end":{"row":13,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":16,"column":56},"end":{"row":16,"column":85},"action":"remove","lines":["  # Use PAT for private repos"],"id":69}],[{"start":{"row":17,"column":24},"end":{"row":17,"column":46},"action":"remove","lines":["  # Fetch full history"],"id":70}],[{"start":{"row":18,"column":19},"end":{"row":18,"column":56},"action":"remove","lines":["  # Ensure main branch is checked out"],"id":71}],[{"start":{"row":20,"column":0},"end":{"row":20,"column":35},"action":"remove","lines":["      # Debug Git remote (optional)"],"id":72},{"start":{"row":19,"column":0},"end":{"row":20,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":23,"column":0},"end":{"row":23,"column":21},"action":"remove","lines":["      # Set up Python"],"id":73},{"start":{"row":22,"column":0},"end":{"row":23,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":26,"column":29},"end":{"row":26,"column":66},"action":"remove","lines":["  # Match your Lambda runtime version"],"id":74}],[{"start":{"row":28,"column":0},"end":{"row":28,"column":35},"action":"remove","lines":["      # Install AWS CLI and SAM CLI"],"id":75},{"start":{"row":27,"column":0},"end":{"row":28,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":36,"column":0},"end":{"row":36,"column":33},"action":"remove","lines":["      # Configure AWS credentials"],"id":76},{"start":{"row":35,"column":0},"end":{"row":36,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":43,"column":0},"end":{"row":43,"column":29},"action":"remove","lines":["      # Build SAM Application"],"id":77},{"start":{"row":42,"column":0},"end":{"row":43,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":46,"column":0},"end":{"row":46,"column":30},"action":"remove","lines":["      # Deploy SAM Application"],"id":78},{"start":{"row":45,"column":0},"end":{"row":46,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":40,"column":56},"end":{"row":40,"column":66},"action":"remove","lines":["ACCESS_KEY"],"id":79},{"start":{"row":40,"column":56},"end":{"row":40,"column":57},"action":"insert","lines":["K"]},{"start":{"row":40,"column":57},"end":{"row":40,"column":58},"action":"insert","lines":["E"]},{"start":{"row":40,"column":58},"end":{"row":40,"column":59},"action":"insert","lines":["Y"]},{"start":{"row":40,"column":59},"end":{"row":40,"column":60},"action":"insert","lines":["_"]},{"start":{"row":40,"column":60},"end":{"row":40,"column":61},"action":"insert","lines":["I"]},{"start":{"row":40,"column":61},"end":{"row":40,"column":62},"action":"insert","lines":["D"]}],[{"start":{"row":16,"column":29},"end":{"row":16,"column":53},"action":"remove","lines":["MY_PERSONAL_ACCESS_TOKEN"],"id":90},{"start":{"row":16,"column":29},"end":{"row":16,"column":30},"action":"insert","lines":["G"]},{"start":{"row":16,"column":30},"end":{"row":16,"column":31},"action":"insert","lines":["I"]},{"start":{"row":16,"column":31},"end":{"row":16,"column":32},"action":"insert","lines":["T"]},{"start":{"row":16,"column":32},"end":{"row":16,"column":33},"action":"insert","lines":["H"]},{"start":{"row":16,"column":33},"end":{"row":16,"column":34},"action":"insert","lines":["U"]},{"start":{"row":16,"column":34},"end":{"row":16,"column":35},"action":"insert","lines":["B"]},{"start":{"row":16,"column":35},"end":{"row":16,"column":36},"action":"insert","lines":["_"]},{"start":{"row":16,"column":36},"end":{"row":16,"column":37},"action":"insert","lines":["T"]},{"start":{"row":16,"column":37},"end":{"row":16,"column":38},"action":"insert","lines":["O"]},{"start":{"row":16,"column":38},"end":{"row":16,"column":39},"action":"insert","lines":["K"]},{"start":{"row":16,"column":39},"end":{"row":16,"column":40},"action":"insert","lines":["E"]},{"start":{"row":16,"column":40},"end":{"row":16,"column":41},"action":"insert","lines":["N"]}],[{"start":{"row":29,"column":13},"end":{"row":34,"column":41},"action":"remove","lines":["|","          sudo apt-get update","          sudo apt-get install -y awscli unzip","          curl -sSL https://github.com/aws/aws-sam-cli/releases/latest/download/aws-sam-cli-linux-x86_64.zip -o sam-cli.zip","          unzip sam-cli.zip -d sam-installation","          sudo ./sam-installation/install"],"id":91},{"start":{"row":29,"column":13},"end":{"row":34,"column":44},"action":"insert","lines":["|","    sudo apt-get update","    sudo apt-get install -y awscli unzip","    curl -sSL https://github.com/aws/aws-sam-cli/releases/latest/download/aws-sam-cli-linux-x86_64.zip -o sam-cli.zip","    unzip sam-cli.zip -d sam-installation","    sudo ./sam-installation/install --update"]}],[{"start":{"row":30,"column":4},"end":{"row":30,"column":6},"action":"insert","lines":["  "],"id":92}],[{"start":{"row":30,"column":6},"end":{"row":30,"column":8},"action":"insert","lines":["  "],"id":93}],[{"start":{"row":30,"column":8},"end":{"row":30,"column":10},"action":"insert","lines":["  "],"id":94}],[{"start":{"row":31,"column":3},"end":{"row":31,"column":4},"action":"insert","lines":[" "],"id":95}],[{"start":{"row":31,"column":4},"end":{"row":31,"column":6},"action":"insert","lines":["  "],"id":96}],[{"start":{"row":31,"column":6},"end":{"row":31,"column":8},"action":"insert","lines":["  "],"id":97}],[{"start":{"row":31,"column":8},"end":{"row":31,"column":10},"action":"insert","lines":["  "],"id":98}],[{"start":{"row":31,"column":10},"end":{"row":31,"column":11},"action":"remove","lines":[" "],"id":99}],[{"start":{"row":32,"column":4},"end":{"row":32,"column":6},"action":"insert","lines":["  "],"id":100}],[{"start":{"row":32,"column":6},"end":{"row":32,"column":8},"action":"insert","lines":["  "],"id":101}],[{"start":{"row":32,"column":8},"end":{"row":32,"column":10},"action":"insert","lines":["  "],"id":102}],[{"start":{"row":33,"column":4},"end":{"row":33,"column":6},"action":"insert","lines":["  "],"id":103}],[{"start":{"row":33,"column":6},"end":{"row":33,"column":8},"action":"insert","lines":["  "],"id":104}],[{"start":{"row":33,"column":8},"end":{"row":33,"column":10},"action":"insert","lines":["  "],"id":105}],[{"start":{"row":34,"column":4},"end":{"row":34,"column":6},"action":"insert","lines":["  "],"id":106}],[{"start":{"row":34,"column":6},"end":{"row":34,"column":8},"action":"insert","lines":["  "],"id":107}],[{"start":{"row":34,"column":8},"end":{"row":34,"column":10},"action":"insert","lines":["  "],"id":108}],[{"start":{"row":52,"column":46},"end":{"row":53,"column":0},"action":"insert","lines":["",""],"id":109},{"start":{"row":53,"column":0},"end":{"row":53,"column":12},"action":"insert","lines":["            "]},{"start":{"row":53,"column":12},"end":{"row":53,"column":13},"action":"insert","lines":["-"]},{"start":{"row":53,"column":13},"end":{"row":53,"column":14},"action":"insert","lines":["-"]}],[{"start":{"row":53,"column":14},"end":{"row":53,"column":15},"action":"insert","lines":[" "],"id":110},{"start":{"row":53,"column":15},"end":{"row":53,"column":16},"action":"insert","lines":["s"]}],[{"start":{"row":53,"column":15},"end":{"row":53,"column":16},"action":"remove","lines":["s"],"id":111},{"start":{"row":53,"column":14},"end":{"row":53,"column":15},"action":"remove","lines":[" "]}],[{"start":{"row":53,"column":14},"end":{"row":53,"column":15},"action":"insert","lines":["s"],"id":112},{"start":{"row":53,"column":15},"end":{"row":53,"column":16},"action":"insert","lines":["3"]},{"start":{"row":53,"column":16},"end":{"row":53,"column":17},"action":"insert","lines":["-"]},{"start":{"row":53,"column":17},"end":{"row":53,"column":18},"action":"insert","lines":["b"]},{"start":{"row":53,"column":18},"end":{"row":53,"column":19},"action":"insert","lines":["u"]},{"start":{"row":53,"column":19},"end":{"row":53,"column":20},"action":"insert","lines":["c"]},{"start":{"row":53,"column":20},"end":{"row":53,"column":21},"action":"insert","lines":["k"]},{"start":{"row":53,"column":21},"end":{"row":53,"column":22},"action":"insert","lines":["e"]},{"start":{"row":53,"column":22},"end":{"row":53,"column":23},"action":"insert","lines":["t"]}],[{"start":{"row":53,"column":23},"end":{"row":53,"column":24},"action":"insert","lines":[" "],"id":113}],[{"start":{"row":53,"column":24},"end":{"row":53,"column":46},"action":"insert","lines":["pgr301-couch-explorers"],"id":114}],[{"start":{"row":0,"column":0},"end":{"row":54,"column":0},"action":"remove","lines":["name: Deploy SAM Application","","on:","  push:","    branches:","      - main","","jobs:","  deploy:","    name: Deploy SAM Application","    runs-on: ubuntu-latest","","    steps:","      - name: Checkout Code","        uses: actions/checkout@v3","        with:","          token: ${{ secrets.GITHUB_TOKEN }}","          fetch-depth: 0","          ref: main","","      - name: Debug Git Remote","        run: git remote -v","","      - name: Set up Python","        uses: actions/setup-python@v4","        with:","          python-version: 3.8","","      - name: Install AWS CLI and SAM CLI","        run: |","          sudo apt-get update","          sudo apt-get install -y awscli unzip","          curl -sSL https://github.com/aws/aws-sam-cli/releases/latest/download/aws-sam-cli-linux-x86_64.zip -o sam-cli.zip","          unzip sam-cli.zip -d sam-installation","          sudo ./sam-installation/install --update","","      - name: Configure AWS Credentials","        uses: aws-actions/configure-aws-credentials@v3","        with:","          aws-access-key-id: ${{ secrets.AWS_ACCESS_KEY_ID }}","          aws-secret-access-key: ${{ secrets.AWS_SECRET_KEY_ID }}","          aws-region: ${{ secrets.AWS_REGION }}","","      - name: Build SAM Application","        run: sam build","","      - name: Deploy SAM Application","        run: |","          sam deploy \\","            --template-file .aws-sam/build/template.yaml \\","            --stack-name my-sam-stack \\","            --capabilities CAPABILITY_IAM \\","            --region ${{ secrets.AWS_REGION }}","            --s3-bucket pgr301-couch-explorers",""],"id":120},{"start":{"row":0,"column":0},"end":{"row":50,"column":46},"action":"insert","lines":["name: Deploy SAM Application","","on:","  push:","    branches:","      - main","","jobs:","  deploy:","    name: Deploy SAM Application","    runs-on: ubuntu-latest","","    steps:","      - name: Checkout Code","        uses: actions/checkout@v3","        with:","          fetch-depth: 0","          ref: main","          token: ${{ secrets.GITHUB_TOKEN }}","","      - name: Set up Python","        uses: actions/setup-python@v4","        with:","          python-version: 3.8","","      - name: Install AWS CLI and SAM CLI","        run: |","          sudo apt-get update","          sudo apt-get install -y awscli unzip","          curl -sSL https://github.com/aws/aws-sam-cli/releases/latest/download/aws-sam-cli-linux-x86_64.zip -o sam-cli.zip","          unzip sam-cli.zip -d sam-installation","          sudo ./sam-installation/install --update","","      - name: Configure AWS Credentials","        uses: aws-actions/configure-aws-credentials@v3","        with:","          aws-access-key-id: ${{ secrets.AWS_ACCESS_KEY_ID }}","          aws-secret-access-key: ${{ secrets.AWS_SECRET_KEY_ID }}","          aws-region: ${{ secrets.AWS_REGION }}","","      - name: Build SAM Application","        run: sam build","","      - name: Deploy SAM Application","        run: |","          sam deploy \\","            --template-file .aws-sam/build/template.yaml \\","            --stack-name my-sam-stack \\","            --capabilities CAPABILITY_IAM \\","            --region ${{ secrets.AWS_REGION }} \\","            --s3-bucket pgr301-couch-explorers"]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":0,"column":0},"end":{"row":50,"column":46},"isBackwards":true},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1732023915566,"hash":"449bc67c696e2fbefb078773ee83b047db8a4457"}